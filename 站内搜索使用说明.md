# 站内搜索功能使用说明 - 增强版

## 功能概述
已成功为你的导航网站添加了增强版站内搜索功能，支持中英文模糊搜索和下拉栏显示，将原来的"软件"搜索选项替换为"站内"搜索。

## 主要特性

### 🔍 智能模糊搜索
- **中英文支持**：支持中文和英文关键词搜索
- **拼音匹配**：支持简单拼音搜索（如输入"gh"可匹配"GitHub"）
- **相似度匹配**：使用编辑距离算法进行模糊匹配
- **多字段搜索**：同时搜索标题、描述和分类

### 📋 下拉栏显示
- **实时搜索**：输入2个字符以上自动显示搜索结果
- **结果预览**：显示网站标题、描述、分类和URL
- **高亮显示**：搜索关键词在结果中高亮显示
- **键盘导航**：支持上下箭头键选择结果

### ✅ 直接跳转
- **键盘导航**：使用上下箭头键选择搜索结果
- **鼠标点击**：直接点击搜索结果项
- **Enter确认**：按Enter键确认选择并跳转
- **新窗口打开**：在新标签页中打开选中的网站

## 使用方法

### 1. 切换到站内搜索模式
- 在搜索框上方的搜索类型选择中，点击"站内"选项
- 搜索框的占位符会变为"站内搜索"

### 2. 执行搜索
- 在搜索框中输入关键词（如"GitHub"、"设计"、"工具"等）
- 输入2个字符以上会自动显示搜索结果下拉栏
- 按回车键或点击搜索按钮也会显示搜索结果

### 3. 选择结果
- **鼠标操作**：直接点击搜索结果项
- **键盘操作**：使用上下箭头键选择，回车确认
- **直接跳转**：选择后直接在新标签页打开网站

### 4. 搜索结果
- 选中的结果项会有高亮显示
- 直接在新标签页中打开选中的网站
- 显示"正在跳转到: [网站名称]"的提示消息

### 5. 清除搜索
- 按ESC键关闭下拉栏
- 清空搜索框内容会自动清除高亮效果
- 切换到其他搜索类型也会清除站内搜索结果
- 点击下拉栏右上角的关闭按钮

## 搜索算法

### 匹配优先级
1. **完全匹配** (100分) - 完全相同的文本
2. **包含匹配** (80分) - 包含搜索关键词
3. **拼音匹配** (20分/字符) - 拼音首字母匹配
4. **相似度匹配** (0-60分) - 基于编辑距离的相似度

### 搜索范围
- 网站标题
- 网站描述  
- 分类名称

## 键盘快捷键
- **Enter** - 执行搜索或确认选择并跳转
- **Escape** - 关闭搜索结果下拉栏
- **↑/↓** - 在搜索结果中上下选择
- **Tab** - 切换到下一个可聚焦元素

## 技术实现
- 使用jQuery实现，与现有搜索系统完美集成
- 模糊搜索算法支持中英文和拼音匹配
- 响应式设计，支持移动端使用
- 深色模式支持
- 平滑动画效果

## 文件修改说明
1. `layouts/partials/content_search.html` - 将"软件"搜索选项替换为"站内"搜索
2. `static/assets/js/site-search.js` - 新增增强版站内搜索JavaScript功能
3. `layouts/partials/header.html` - 引入站内搜索脚本
4. `layouts/partials/content_main.html` - 为网站项目添加必要的CSS类名

## 注意事项
- 站内搜索功能会在页面加载完成后自动初始化
- 如果页面内容动态变化，搜索数据会自动重新加载
- 搜索是实时的，支持中文和英文关键词
- 下拉栏最多显示10个搜索结果
- 支持移动端触摸操作
